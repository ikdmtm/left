# Cursor 単体エージェント運用手順（品質担保）

## 0. 前提
- 1つのエージェントで「設計→実装→セルフレビュー」まで回す。
- タスクを小さく切る（1〜2時間で終わる粒度）。

---

## 1. タスク開始テンプレ（Cursorに貼るプロンプト）
以下を毎回貼ってから開始する：

### IMPLEMENT PROMPT
あなたはこのリポジトリの単体実装エージェントです。
次の制約を守ってください：
- 変更対象ファイルを最小限にする
- core/time は純関数のまま
- docs/spec.md と docs/decisions.md を必要に応じて更新
- 完了前にセルフレビュー（バグ/境界値/UX）を行う

今回のタスク：
- 目的：
- 受入条件（Acceptance Criteria）：
- 触るファイル候補：
- 手動QA項目（docs/qa-checklist.md から引用）：

実装後、(1) 変更点要約、(2) リスク/未対応、(3) 次タスク提案 を出してください。

---

## 2. 実装の進め方（必須）
1) 仕様確認：docs/spec.md の該当セクションを見て整理  
2) 実装計画：手順を箇条書き（5〜10行）  
3) 実装：小さくコミット単位で  
4) セルフレビュー：境界値（誕生日/寿命=0/日跨ぎ/活動時間外）  
5) 手動QA：docs/qa-checklist.md の該当項目を実施  
6) docs更新：変更に理由があるなら decisions.md に記録  

---

## 3. レビュー用テンプレ（Cursorに貼る）
### REVIEW PROMPT
今の差分を「バグ・境界値・UX・設計規律（core純度）・将来拡張性」の観点でレビューし、
- 指摘（重要度S/A/B）
- 修正案（具体的に）
- 追加すべきテスト
を列挙してください。
